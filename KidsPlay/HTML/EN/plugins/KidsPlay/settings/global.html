[% PROCESS pageheader.html %]

<script type="text/javascript" language="javascript">
function KP_collapseMacros() {
	var i = 0;
	while ( 1 ) {
		var o = document.getElementById("KP_s-"+i);
		if ( o == null ) { return; }
		o.style.display = "none";
		++i;
	}
}
function KP_toggleVisibility(domId) {
	var o = document.getElementById(domId);
	if ( o == null ) { return; }
	if ( o.style.display == "none" ) { o.style.display = ""; }
	else { o.style.display = "none"; }
}
function KP_showButton(index,options) {
        var buttonNumber = options[index].value;
	KP_collapseMacros();
	var s = document.getElementById("KP_save");
	s.style.display = "";
	var o = document.getElementById("KP_s-"+buttonNumber);
	if ( o == null ) { return; }
	o.style.display = "";
}
var p = document.getElementById("KP_macro_name");
if ( p != null ) {
	p.selectedIndex = 0;
}
</script>

<!-- the table is wrapped in a FORM to allow actions -->
<form action="global.html" method="POST">

[% kidsplay.header %]
[% kidsplay.headerinfo %]

[% kidsplay.message %]

<!-- hidden vars to carry with Save requests -->
<input type="hidden" name="pageAntiCSRFToken" value="[% pageAntiCSRFToken %]" />

<!-- list of possible macros -->
<!-- TODO: changing selected value updates page -->
<select name="KP_macro_name" onChange="javascript:KP_showButton(selectedIndex,options);">
<option value="-1">[% "SELECT_ITEM" | string %]</option>
[% kidsplay.macrooptions %]
</select>
<br />
<!-- spans with all buttons & macros -->
[% kidsplay.macro %]

<span id="KP_save" style="display: none;">
<input type="hidden" name="KP_scope" value="[% KP_scope %]" />
<input type="submit" name="KP_action" value="[% "SAVE" | string %]" />
</span>

</form>

<p>Macros are sets of CLI commands separated by semicolons. For a full list of
"core" SqueezeCenter CLI commands, see
<a href="/html/docs/cli-api.html#Supported Commands" target="_blank" title="(opens in new window)">the
online documentation</a>. <em>Note:</em> you do <b>not</b> need to include the
playerid for commands that begin with a playerid. For instance, the documentation
says to turn a specific player on you would use '04:20:00:12:23:45 power 1' but
for KidsPLay you need only use 'power 1'. If you want to specify a particular
player, insert either the player MAC/ID plus a colon or the name you assigned
to the player plus a colon before the command, e.g. 
'04:20:00:67:89:9a: power 1' or 'Kitchen: power 1'.  If you want to have the
same command run on every player, insert 'ALL:' before the command, e.g.
'ALL: power 1'. To have the command run on all players <b>except</b> the
player where you pressed the button, insert 'OTHERS:', e.g. 
'OTHERS: power 1'.
</p>

<p><a href="#" onClick="javascript:KP_toggleVisibility('KP_samples');">Sample macros</a></p>
<span id="KP_samples" style="display: none;">
<dl>
<dt>Play a specific playlist
<dd>power 1; stop; playlist clear; mixer volume 30; playlist play PlayListName;
<dt>Random mix from one genre
<dd>power 1; stop; playlist clear; mixer volume 30; randomplaygenreselectall 0; randomplaychoosegenre GenreName 1; randomplay tracks;
<dt>Play a specific album
<dd>power 1; stop; playlist clear; mixer volume 30; playlist play "/path/to/album/directory"
<dt>Display a message
<dd>show "line1:KidsPlay test" "line2:Your message here" duration:5 centered:1
<dt>Display a large message
<dd>show font:huge "line2:Your message here" duration:5 centered:1
<dt>Set volume to a fixed level
<dd>mixer volume 45;
<br />OR
<br />
kidsplayvolume 45
<dt>Increase volume by 5, but not greater than player's KidsPlay max
<dd>kidsplayvolume +5
<dt>Decrease volume by 5, but not less than player's KidsPlay min
<dd>kidsplayvolume -5
<dt>Set volume to player's KidsPlay minimum
<dd>kidsplayvolume 0
<dt>Toggle between two values (3 = Always Off, 0 = Headphones) for a Boom's analogOutMode pref 
(this command currently only supports switching between two values)
<dd>kidsplaytoggleclientpref analogOutMode 3 0
<dt>Turn the player named "Living Room" off (note the space and quotation marks)</dt>
<dd>"Living Room:" power 0</dd>
<dt>Turn all players off</dt>
<dd>ALL: power 0</dd>
<dt>Turn all <b>other</b> players off but leave this one alone</dt>
<dd>OTHERS: power 0</dd>
</dl>
</span>

<br />
<br />
<a href="/Classic/plugins/KidsPlay/html/donate.html">[% "PETERW_DONATIONS_APPRECIATED" | string %]</a>
<br />
<br />

[% PROCESS pagefooter.html %]

